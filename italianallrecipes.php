

<?php
$recipes = [
    "spaghetti-carbonara" => [
        "title" => "Spaghetti Carbonara",
        "image" => "https://bing.com/th?id=OSK.c8741fc3c4a4ca1f95a86b748a7843ce",
        "description" => "A classic Italian pasta with creamy eggs, crispy pancetta, and black pepper.",
        "ingredients" => [
            "200g spaghetti",
            "100g pancetta",
            "2 eggs",
            "50g parmesan cheese",
            "Salt and black pepper to taste"
        ],
        "instructions" => [
            "Cook the spaghetti in salted water.",
            "Fry the pancetta until crispy.",
            "Beat the eggs with grated cheese.",
            "Drain pasta and combine with pancetta.",
            "Mix in the egg mixture off the heat.",
            "Serve with extra cheese and pepper."
        ]
    ],
    "margherita-pizza" => [
        "title" => "Margherita Pizza",
        "image" => "https://th.bing.com/th?q=Margherita+Pizza+HD+Images&w=120&h=120&c=1&rs=1&qlt=90&cb=1&dpr=1.3&pid=InlineBlock&mkt=en-WW&cc=LK&setlang=en&adlt=moderate&t=1&mw=247",
        "description" => "A simple pizza with fresh mozzarella, tomatoes, and basil.",
        "ingredients" => [
            "1 pizza dough",
            "100g mozzarella",
            "2 tomatoes",
            "Fresh basil leaves",
            "Olive oil, salt"
        ],
        "instructions" => [
            "Preheat oven to 220°C.",
            "Roll out dough, spread tomato slices.",
            "Add mozzarella and drizzle olive oil.",
            "Bake for 10-15 minutes.",
            "Top with fresh basil and serve."
        ]
    ],
    "lasagna" => [
        "title" => "Lasagna",
        "image" => "https://th.bing.com/th/id/OIP.9gXtOx2TTDx4eF-GuixRuQHaE8?pid=ImgDet&rs=1",
        "description" => "Layered pasta with meat sauce, béchamel, and cheese.",
        "ingredients" => [
            "Lasagna noodles",
            "500g ground beef",
            "2 cups tomato sauce",
            "1 cup béchamel sauce",
            "200g mozzarella cheese"
        ],
        "instructions" => [
            "Cook the noodles.",
            "Prepare meat sauce with ground beef and tomato sauce.",
            "Layer noodles, meat sauce, béchamel, and cheese in a dish.",
            "Repeat layers and top with cheese.",
            "Bake at 180°C for 30 minutes.",
            "Let rest before serving."
        ]
    ],
    "risotto" => [
        "title" => "Risotto",
        "image" => "https://th.bing.com/th/id/OIP.sE9MLDPFGhBZmbPRwxVjVgHaE7?pid=ImgDet&rs=1",
        "description" => "Creamy rice dish cooked with broth and cheese.",
        "ingredients" => [
            "1 cup arborio rice",
            "1 onion",
            "4 cups chicken broth",
            "50g parmesan cheese",
            "2 tbsp butter"
        ],
        "instructions" => [
            "Sauté onion in butter.",
            "Add rice and cook until translucent.",
            "Add broth gradually while stirring.",
            "Cook until rice is creamy and al dente.",
            "Stir in cheese before serving."
        ]
    ],
    "tiramisu" => [
        "title" => "Tiramisu",
        "image" => "https://th.bing.com/th/id/OIP.X5iyPVdkhrcV1a9SaPjv-AHaE7?pid=ImgDet&rs=1",
        "description" => "Coffee-flavored Italian dessert with mascarpone and ladyfingers.",
        "ingredients" => [
            "200g ladyfingers",
            "3 eggs",
            "250g mascarpone",
            "100g sugar",
            "1 cup coffee"
        ],
        "instructions" => [
            "Separate egg yolks and whites.",
            "Beat yolks with sugar, add mascarpone.",
            "Whip egg whites and fold in.",
            "Dip ladyfingers in coffee and layer with cream.",
            "Repeat layers, chill before serving."
        ]
    ],
    "frittata" => [
        "title" => "Frittata",
        "image" => "https://th.bing.com/th/id/OIP.CIl3wVbBDF1PZLNsL4oK6QHaE8?pid=ImgDet&rs=1",
        "description" => "An egg-based dish with vegetables and cheese.",
        "ingredients" => [
            "4 eggs",
            "1 bell pepper",
            "1 onion",
            "50g cheese",
            "Salt and pepper"
        ],
        "instructions" => [
            "Beat eggs with salt and pepper.",
            "Sauté vegetables.",
            "Add eggs and cook until set.",
            "Top with cheese and finish under broiler."
        ]
    ],
    "caprese-salad" => [
        "title" => "Caprese Salad",
        "image" => "https://th.bing.com/th/id/OIP.LvQ1T66DNZNV3m3cw9G7ygHaE7?pid=ImgDet&rs=1",
        "description" => "Simple salad with tomatoes, mozzarella, and basil.",
        "ingredients" => [
            "2 tomatoes",
            "100g mozzarella",
            "Fresh basil",
            "Olive oil",
            "Salt and pepper"
        ],
        "instructions" => [
            "Slice tomatoes and mozzarella.",
            "Arrange with basil leaves.",
            "Drizzle olive oil and season."
        ]
    ],
    "gnocchi" => [
        "title" => "Gnocchi",
        "image" => "https://th.bing.com/th/id/OIP.J9c_fdoGTQdYp5UmVj1CXQHaFj?pid=ImgDet&rs=1",
        "description" => "Soft potato dumplings served with sauce.",
        "ingredients" => [
            "500g potatoes",
            "150g flour",
            "1 egg",
            "Salt"
        ],
        "instructions" => [
            "Boil and mash potatoes.",
            "Mix with egg, salt, and flour.",
            "Roll and cut into gnocchi.",
            "Boil until they float.",
            "Serve with sauce."
        ]
    ],
    "italian-wedding-soup" => [
        "title" => "Italian Wedding Soup",
        "image" => "https://th.bing.com/th/id/OIP.G3-VyGFQl-0dof94MvIddAHaE8?pid=ImgDet&rs=1",
        "description" => "Brothy soup with meatballs, greens, and pasta.",
        "ingredients" => [
            "Meatballs",
            "Spinach",
            "Small pasta",
            "Chicken broth"
        ],
        "instructions" => [
            "Make and cook meatballs.",
            "Boil broth, add pasta and greens.",
            "Add meatballs and simmer."
        ]
    ],
    "italian-green-beans" => [
        "title" => "Italian Green Beans",
        "image" => "https://th.bing.com/th/id/OIP.-vvq93rZJ-sZ-MVOlFAd1AHaFj?pid=ImgDet&rs=1",
        "description" => "Green beans sautéed with garlic and tomatoes.",
        "ingredients" => [
            "Green beans",
            "Garlic",
            "Tomatoes",
            "Olive oil",
            "Salt"
        ],
        "instructions" => [
            "Blanch green beans.",
            "Sauté garlic in olive oil.",
            "Add tomatoes and beans, cook until tender."
        ]
    ]
];

$recipeKey = $_GET['name'] ?? null;

if (!isset($recipes[$recipeKey])) {
    echo "<h2>Recipe not found.</h2>";
    exit;
}

$recipe = $recipes[$recipeKey];
?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><?= htmlspecialchars($recipe['title']) ?> - Digital Recipe Book</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body style="background: #fffaf0; font-family: Arial, sans-serif;">
    <div class="container mt-5">
        <h1 class="text-center text-danger"><?= htmlspecialchars($recipe['title']) ?></h1>
        <img src="<?= $recipe['image'] ?>" alt="<?= htmlspecialchars($recipe['title']) ?>" class="img-fluid d-block mx-auto my-4 rounded" style="max-height: 400px; object-fit: cover;">

        <p class="text-center text-muted"><?= htmlspecialchars($recipe['description']) ?></p>

        <h3>Ingredients:</h3>
        <ul class="list-group mb-4">
            <?php foreach ($recipe['ingredients'] as $item): ?>
                <li class="list-group-item"><?= htmlspecialchars($item) ?></li>
            <?php endforeach; ?>
        </ul>

        <h3>Instructions:</h3>
        <ol class="list-group list-group-numbered mb-4">
            <?php foreach ($recipe['instructions'] as $step): ?>
                <li class="list-group-item"><?= htmlspecialchars($step) ?></li>
            <?php endforeach; ?>
        </ol>

        <a href="italian-recipes.php" class="btn btn-dark">← Back to Recipes</a>
    </div>
</body>
</html>
